@page "/"
@inject FdroidService _is
@inject IOService _io
@inject GenericRepository<ApplicationInfo> _repo
@using DoreanStore.Models
@using DoreanStore.Repositories
@using DoreanStore.Services
@inject IJSRuntime js
@inject GenericRepository<ApplicationInfo> repo
@using DoreanStore.Models
@using DoreanStore.Repositories
@if (applicationInfos is not null)
{

    <div style="display:flex;align-content:center;justify-content:center;flex-direction:column;justify-items:center; align-items:center">
        @foreach (var info in applicationInfos)
        {
            if(info.IconUrl is not null)
            {
                string linkOfImage = LinkProvider.RepoLink + info.IconUrl;
                <img src="@linkOfImage" />
            }
        }
    </div>
}

@code {
    private IEnumerable<ApplicationInfo> applicationInfos;

    protected override async Task OnInitializedAsync()
    {
        applicationInfos = repo.GetAll()!.Take(100).ToList();
        StateHasChanged();
    }
}
